<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>
  <body>
    <h1>Automatisation des tests de performance</h1>
    <h2>Environnements</h2>
    <p><a href="http://guillaumearnaud.github.io/xebia-techevent-automatic-perf/servers.html">liste des servers</a></p>
    <h2>Pour commencer</h2>
    <p>Initialisation des jobs jenkins et de git <a href="http://guillaumearnaud.github.io/xebia-techevent-automatic-perf/init.html">ici</a>.</p>
    <h2>Référence</h2>
	<ul>
		<li><a href="https://github.com/excilys/gatling/wiki">gatling</a></li>
		<li><a href="http://graphite.readthedocs.org/en/1.0/functions.html">fonctions graphite</a></li>
		<li><a href="https://github.com/jmxtrans/jmxtrans/wiki">jmxtrans</a></li>
		<li><a href="https://github.com/BrightcoveOS/Diamond/wiki">diamond</a></li>
   </ul>
   <p>Exemple pour afficher une image graphite (les 10 dernières minutes du cpu du controller):<br>
		<a href="http://controller-3.aws.xebiatechevent.info/render?target=carbon.agents.ip-*-a.cpuUsage&from=-10min">http://controller-3.aws.xebiatechevent.info/render?target=carbon.agents.ip-10-73-184-119-a.cpuUsage&from=-10min</a>

   <p>Jmxtrans:<br>
   service : $ sudo service jmxtrans restart <br>
   répertoire de conf (on y dépose les .json): $ ll /var/lib/jmxtrans <br>
</p>
    <h2>Exercices</h2>
<h3>Exercice 1</h3>

<p>Le but de cet exercice est de réaliser notre premier tir de perf sur tinyapp. <br>
Nous allons découvrir l'écriture d'un scénario simple et visualiser le résultat sur graphite.<br>
Nous ferons évoluer notre code pour injecter des paramètres pour nos simulations depuis Jenkins<br>
Nous testerons ensuite quelques servlet et vous devrez trouver grâce à Graphite ce qui pose problème (vous avez accès aux sources, on vous conseille de jouez le jeu !)<br>
Enfin nous découvrirons une mécanique simple pour gérer les erreurs.<br>
</p>
<br>
Quelques ressources utiles :<br>
https://github.com/excilys/gatling/wiki/First-Steps-with-Gatling<br>
https://github.com/excilys/gatling/wiki/Gatling-2#wiki-inject<br>
https://github.com/excilys/gatling/wiki/Checks#wiki-checks<br>
https://github.com/excilys/gatling/wiki/Checks#wiki-verifying<br>
http://graphite.readthedocs.org/en/latest/functions.html<br>


<h3>Exercice 2</h3>

<p> Lors de cet exercice nous allons apprendre à utiliser des feeder pour injecter des données dans nos tests
Nous allons ensuite créer notre propre feeder</p>
 
Quelques ressources utiles :<br>
https://github.com/excilys/gatling/wiki/Feeders#wiki-fileParsers<br>
https://github.com/excilys/gatling/wiki/Feeders#wiki-queue<br>
https://github.com/excilys/gatling/wiki/HTTP#wiki-query-params<br>
<br>

<h3>Exercice 3</h3>

Nous allons mettre en oeuvre un scénario plus complexe :<br>
Nous appelerons un premier service et utiliserons des informations de la réponse http pour réaliser un appel à un second service<br>
Nous découvrirons ainsi la session Gatling, le parsing XML et mettrons en oeuvre un check un peu moins "direct" que les précédents.<br>

Quelques ressources utiles :<br>
https://github.com/excilys/gatling/wiki/Session<br>


</body>
</html>
