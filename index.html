<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>
  <body>
    <h1>Automatisation des tests de performance</h1>
    <h2>Environnements</h2>
    <p><a href="http://guillaumearnaud.github.io/xebia-techevent-automatic-perf/servers.html">liste des servers</a></p>
    <h2>Pour commencer</h2>
    <p>Initialisation des jobs jenkins et de git <a href="http://guillaumearnaud.github.io/xebia-techevent-automatic-perf/init.html">ici</a>.</p>
    <h2>Référence</h2>
    <p>graphite, jmxtrans, git...</p>
	<ul>
		<li><a href="https://github.com/excilys/gatling/wiki">gatling</a></li>
		<li><a href="http://graphite.readthedocs.org/en/1.0/functions.html">fonctions graphite</a></li>
		<li><a href="https://github.com/jmxtrans/jmxtrans/wiki">jmxtrans</a></li>
   </ul>
   <p>Exemple pour afficher une image graphite (les 10 dernières minutes du cpu du controller):<br>
		<a href="http://controller-3.aws.xebiatechevent.info/render?target=carbon.agents.ip-*-a.cpuUsage&from=-10min">http://controller-3.aws.xebiatechevent.info/render?target=carbon.agents.ip-10-73-184-119-a.cpuUsage&from=-10min</a>

   <p>Jmxtrans:<br>
   service : $ sudo service jmxtrans restart
   répertoire de conf (on y dépose les .json): $ ll /var/lib/jmxtrans
</p>
    <h2>Exercices</h2>

Exercice 1<br>
<br>
Scénario simple<br>
-> SlowFast sans paramètre<br>
-> Définir les bornes d'acceptance de gatling<br>
<br>
Visualiser les résultats<br>
-> SlowFast<br>
    -> Faire différent type de scénario (durée, rampe, nombre de users, etc...) et regarder le nombre de users évoluer sur graphite<br>
-> IOConsumer<br>
-> CPUConsumer<br>
-> MemoryConsumer<br>
    -> Voir les métriques Graphite<br>
    <br>
Gestion des erreurs<br>
-> Autofailer avec une proba de fail > 0<br>
-> Autofailer qui ne renvoie pas d'erreur 500 (cas de SOAP)<br>
<br>
Exercice 2<br>
<br>
Utiliser un feeder simple<br>
-> Slow Fast avec le paramètre fast=true de temps en temps<br>
<br>
Utiliser un feeder custom<br>
-> SlowFast avec deux fichiers séparés (mettre à jour SlowFast pour gérer plusieurs paramètres arbitraires)<br>
<br>
Exercice 3<br>
<br>
Scénario complexe<br>
-> Faire SlowFast<br>
-> Récupérer le retour (un nombre)<br>
-> Calculer PI avec ce nombre de décimales<br>
-> Vérifier que le résultat comporte bien le bon nombre de décimale<br>
<br>
</body>
</html>
